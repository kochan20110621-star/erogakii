<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±Ÿå‘‚é¤“é¬¼å¤§å­¦ ç·åˆå­¦è¡“ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | EROGAKI UNIV. SYSTEM</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Noto+Serif+JP:wght@200;400;600;900&family=Shippori+Mincho:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        /* =================================================================
           0. CORE VARIABLES & RESET
           ================================================================= */
        :root {
            --c-main: #0e767c;        /* HORITA Teal */
            --c-main-dark: #052a2c;
            --c-main-light: #44babc;
            --c-accent: #c93a3a;
            --c-bg: #020303;
            --c-panel: rgba(14, 118, 124, 0.05);
            --c-text: #c0d1d3;
            --c-white: #ffffff;
            
            --font-jp: 'Shippori Mincho', 'Noto Serif JP', serif;
            --font-en: 'Cinzel', serif;
            
            --ease-out: cubic-bezier(0.22, 1, 0.36, 1);
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        html { font-size: 16px; scroll-behavior: smooth; }
        
        body {
            background-color: var(--c-bg);
            color: var(--c-text);
            font-family: var(--font-jp);
            line-height: 2.2;
            overflow-x: hidden;
            width: 100%;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: var(--c-main-dark); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--c-main); }

        a { text-decoration: none; color: inherit; transition: 0.3s; }
        ul { list-style: none; }
        img { width: 100%; display: block; }
        ::selection { background: var(--c-main); color: #fff; }

        /* =================================================================
           1. LOAD SCREEN
           ================================================================= */
        #loader {
            position: fixed; inset: 0;
            background: #000; z-index: 10000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            font-family: var(--font-en);
        }
        
        .loader-content { text-align: center; width: 80%; max-width: 600px; }
        
        .loader-logo {
            font-size: 3rem; font-weight: 900; color: #fff;
            letter-spacing: 0.1em; margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(14,118,124,0.5);
        }
        
        .loader-horita {
            font-size: 1.2rem; color: var(--c-main); letter-spacing: 0.3em;
            margin-bottom: 40px; font-weight: 700;
            border: 1px solid var(--c-main); padding: 5px 20px; display: inline-block;
            animation: blink 2s infinite;
        }

        .progress-container {
            width: 100%; height: 2px; background: #333; position: relative;
            margin-bottom: 10px;
        }
        .progress-bar {
            position: absolute; left: 0; top: 0; height: 100%; width: 0%;
            background: var(--c-main);
            transition: width 0.1s linear;
            box-shadow: 0 0 10px var(--c-main);
        }

        .loader-log {
            font-family: monospace; font-size: 0.8rem; color: #555; text-align: left;
            height: 60px; overflow: hidden; border-top: 1px solid #222; padding-top: 10px;
        }

        @keyframes blink { 0%,100%{opacity:1;} 50%{opacity:0.5;} }

        body.loaded #loader {
            opacity: 0; pointer-events: none; transition: opacity 0.8s ease;
        }

        /* =================================================================
           2. UTILITIES & ANIMATIONS
           ================================================================= */
        .u-container {
            width: 90%; max-width: 1000px; margin: 0 auto;
            position: relative; z-index: 2;
        }

        .u-section-pad { padding: 150px 0; }
        .u-mb-m { margin-bottom: 4rem; }
        .u-mb-l { margin-bottom: 6rem; }

        .t-display {
            font-family: var(--font-en);
            font-size: clamp(3rem, 8vw, 6rem);
            line-height: 1; font-weight: 700; color: #fff;
            margin-bottom: 2rem; letter-spacing: -0.02em;
        }
        
        .t-h2 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 2rem; line-height: 1.4;
            background: linear-gradient(to right, #fff, var(--c-main));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        .t-h3 {
            font-size: 1.3rem; color: #fff; margin-bottom: 1rem;
            border-left: 4px solid var(--c-main); padding-left: 15px;
            font-weight: 600;
        }

        .t-label {
            font-family: var(--font-en); font-size: 0.8rem;
            letter-spacing: 0.2em; color: var(--c-main);
            display: block; margin-bottom: 1rem; text-transform: uppercase;
        }

        /* Animations */
        .fade-up {
            opacity: 0; transform: translateY(40px);
            transition: opacity 1.2s ease, transform 1.2s var(--ease-out);
        }
        .fade-up.is-inview { opacity: 1; transform: translateY(0); }
        
        .delay-100 { transition-delay: 0.1s; }
        .delay-200 { transition-delay: 0.2s; }
        .delay-300 { transition-delay: 0.3s; }

        /* =================================================================
           3. COMPONENTS
           ================================================================= */
        /* Header */
        .header {
            position: fixed; top: 0; left: 0; width: 100%;
            padding: 1.5rem 5%;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 100;
            background: linear-gradient(to bottom, rgba(2,3,3,0.95), transparent);
            backdrop-filter: blur(5px);
        }
        .logo { font-family: var(--font-en); font-weight: 900; letter-spacing: 0.1em; color:#fff; }
        .logo-sub { font-size: 0.7rem; font-family: var(--font-en); color: var(--c-main); text-align: right; }

        /* Background Canvas */
        #bg-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; opacity: 0.6;
        }

        /* Article Text */
        .long-text {
            text-align: justify; margin-bottom: 2rem; font-size: 1.05rem;
        }

        /* Box Design */
        .academic-box {
            background: var(--c-panel);
            border: 1px solid rgba(14, 118, 124, 0.2);
            padding: 40px; margin-bottom: 30px;
            transition: 0.3s;
        }
        .academic-box:hover {
            border-color: var(--c-main);
            background: rgba(14, 118, 124, 0.08);
        }

        /* =================================================================
           4. GRAPH ANIMATIONS
           ================================================================= */
        .chart-container {
            margin: 4rem 0; padding: 2rem;
            border: 1px solid #333; background: rgba(0,0,0,0.5);
        }
        .chart-title { font-family: var(--font-en); color: var(--c-main); margin-bottom: 2rem; text-align: center; }

        /* Bar Chart */
        .bar-chart {
            display: flex; justify-content: space-around; align-items: flex-end;
            height: 250px; border-bottom: 1px solid #555; padding-bottom: 10px;
        }
        .bar-wrap { width: 12%; text-align: center; }
        .bar {
            width: 100%; background: linear-gradient(to top, var(--c-main-dark), var(--c-main));
            height: 0; transition: height 2s var(--ease-out);
            border-top: 2px solid #fff; position: relative;
        }
        .bar-val {
            position: absolute; top: -25px; left: 50%; transform: translateX(-50%);
            font-family: var(--font-en); font-size: 0.8rem; color: #fff; opacity: 0; transition: 2s;
        }
        .bar-year { font-size: 0.8rem; margin-top: 10px; color: #888; }
        
        .is-inview .bar { height: var(--h); }
        .is-inview .bar-val { opacity: 1; }

        /* Line Chart (SVG) */
        .line-chart-svg { width: 100%; height: 300px; overflow: visible; }
        .line-path {
            fill: none; stroke: var(--c-main); stroke-width: 3;
            stroke-dasharray: 2000; stroke-dashoffset: 2000;
            transition: stroke-dashoffset 3s ease-out;
        }
        .grid-line { stroke: #333; stroke-width: 1; }
        .is-inview .line-path { stroke-dashoffset: 0; }

        /* =================================================================
           5. 3D PENCIL STAGE (THREE.JS)
           ================================================================= */
        #product-3d-container {
            width: 100%;
            height: 600px;
            background: radial-gradient(circle, #1a1a1a 0%, #000 70%);
            position: relative;
            overflow: hidden;
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
            cursor: move; /* Indicates interactability */
        }
        canvas { display: block; } /* For Three.js canvas */

        /* =================================================================
           6. SECTIONS
           ================================================================= */
        /* Quiz */
        .quiz-container { border: 1px solid #333; padding: 3rem; margin-top: 3rem; }
        .quiz-q { font-size: 1.2rem; font-weight: bold; margin-bottom: 2rem; }
        .quiz-btn {
            display: block; width: 100%; text-align: left; padding: 1.5rem;
            background: #111; border: 1px solid #333; color: #ccc; margin-bottom: 1rem;
            transition: 0.2s; cursor: pointer;
        }
        .quiz-btn:hover { background: var(--c-main); color: #fff; }

        /* Footer */
        .footer {
            padding: 5rem 0; border-top: 1px solid #222; text-align: center;
            font-size: 0.8rem; color: #666;
        }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div id="loader">
        <div class="loader-content">
            <div class="loader-logo">EROGAKI UNIV.</div>
            <div class="loader-horita">MADE IN HORITA</div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <div class="loader-log" id="loaderLog">
                System initializing...
            </div>
        </div>
    </div>

    <header class="header">
        <div class="logo">EROGAKI UNIV.</div>
        <div class="logo-sub">
            ACADEMIC DATABASE<br>
            Directed by HORITA
        </div>
    </header>

    <main>
        <section class="u-section-pad" style="height: 100vh; display: flex; align-items: center;">
            <div class="u-container">
                <span class="t-label fade-up">ESTABLISHED 1919 / TOKYO</span>
                <h1 class="t-display fade-up delay-100">
                    TRUTH IN<br>
                    <span style="color:var(--c-main);">DARKNESS</span>
                </h1>
                <p class="long-text fade-up delay-200" style="max-width: 600px; color: #aaa;">
                    æ±Ÿå‘‚é¤“é¬¼å¤§å­¦ã¯ã€ã€Œæ€§ã€ã¨ã€ŒçŸ¥ã€ã®èåˆã‚’ç›®æŒ‡ã™ã€ä¸–ç•Œã§ã‚‚ç¨€æœ‰ãªç·åˆç ”ç©¶æ©Ÿé–¢ã§ã™ã€‚
                    æˆ‘ã€…ã¯ã€äººé–“ã®æ ¹æºçš„ãªè¡å‹•ã§ã‚ã‚‹ã€Œä¸‹å¿ƒã€ã‚’å¦å®šã›ãšã€ãã‚Œã‚’å­¦å•çš„æ¢ç©¶ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¸ã¨å¤‰æ›ã—ã¾ã™ã€‚
                    åå·®å€¤72ã€‚ã“ã“ã§ã¯ã€ã‚ãªãŸã®æ­ªã‚“ã æ¬²æœ›ã“ããŒã€çœŸç†ã¸ã®éµã¨ãªã‚Šã¾ã™ã€‚
                </p>
                <div class="fade-up delay-300" style="margin-top: 40px; font-family: var(--font-en); font-size: 0.8rem; color: var(--c-main);">
                    SCROLL TO ACCESS DATABASE â–¼
                </div>
            </div>
        </section>

        <section class="u-section-pad">
            <div class="u-container">
                <span class="t-label fade-up">RESEARCH DATA</span>
                <h2 class="t-h2 fade-up">Analysis of Instinct</h2>
                <p class="long-text fade-up">
                    æœ¬å­¦ã®ç ”ç©¶æ©Ÿé–¢ã€Œå¦„æƒ³ç ”ç©¶æ‰€ã€ãŒé•·å¹´ã«ã‚ãŸã‚Šåé›†ã—ãŸè†¨å¤§ãªãƒ‡ãƒ¼ã‚¿ã®ä¸€éƒ¨ã‚’å…¬é–‹ã—ã¾ã™ã€‚
                    ã“ã‚Œã‚‰ã®ã‚°ãƒ©ãƒ•ã¯ã€äººé–“ã®æ¬²æœ›ãŒã„ã‹ã«ã—ã¦ç¤¾ä¼šçš„æˆåŠŸã‚„å­¦è¡“çš„æˆæœã«çµã³ã¤ãã‹ã‚’å¦‚å®Ÿã«ç¤ºã—ã¦ã„ã¾ã™ã€‚
                </p>

                <div class="chart-container fade-up">
                    <div class="chart-title">â–  HORITAãƒ¡ã‚½ãƒƒãƒ‰å°å…¥ã«ã‚ˆã‚‹å­¦ç¿’é›†ä¸­åŠ›ã®å¤‰åŒ–</div>
                    <div class="bar-chart" id="barChart">
                        <div class="bar-wrap"><div class="bar" style="--h: 20%;"><span class="bar-val">20</span></div><div class="bar-year">Gen 1</div></div>
                        <div class="bar-wrap"><div class="bar" style="--h: 35%;"><span class="bar-val">35</span></div><div class="bar-year">Gen 2</div></div>
                        <div class="bar-wrap"><div class="bar" style="--h: 50%;"><span class="bar-val">50</span></div><div class="bar-year">Gen 3</div></div>
                        <div class="bar-wrap"><div class="bar" style="--h: 85%;"><span class="bar-val">85</span></div><div class="bar-year">HORITA</div></div>
                        <div class="bar-wrap"><div class="bar" style="--h: 98%;"><span class="bar-val">98</span></div><div class="bar-year">Future</div></div>
                    </div>
                    <p style="font-size:0.8rem; color:#888; margin-top:20px;">â€»HORITAè£½æ–‡å…· å°å…¥å¾Œã€å­¦ç”Ÿã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé£›èºçš„ã«å‘ä¸Šã€‚</p>
                </div>

                <div class="chart-container fade-up">
                    <div class="chart-title">â–  å¦„æƒ³åŠ›ã¨ç”Ÿæ¶¯å¹´åã®ç›¸é–¢é–¢ä¿‚ (n=50,000)</div>
                    <div class="line-chart-svg is-inview-trigger">
                        <svg viewBox="0 0 400 200" width="100%" height="100%">
                            <line x1="0" y1="50" x2="400" y2="50" class="grid-line" stroke="#222" />
                            <line x1="0" y1="100" x2="400" y2="100" class="grid-line" stroke="#222" />
                            <line x1="0" y1="150" x2="400" y2="150" class="grid-line" stroke="#222" />
                            <path class="line-path" d="M0,180 C100,170 150,120 200,100 S300,80 400,20" />
                        </svg>
                    </div>
                    <div style="display:flex; justify-content:space-between; font-size:0.7rem; color:#666;">
                        <span>Low Imagination</span>
                        <span>High Imagination</span>
                    </div>
                </div>

            </div>
        </section>

        <section class="u-section-pad">
            <div class="u-container">
                <span class="t-label fade-up">ACADEMIC DISCIPLINES</span>
                <h2 class="t-h2 fade-up">8ã¤ã®å­¦éƒ¨ã¨ç ”ç©¶é ˜åŸŸ</h2>
                <p class="long-text fade-up u-mb-l">
                    æ±Ÿå‘‚é¤“é¬¼å¤§å­¦ã«ã¯8ã¤ã®å°‚é–€å­¦éƒ¨ãŒå­˜åœ¨ã—ã€ãã‚Œãã‚Œã®ã€Œãƒ•ã‚§ãƒ†ã‚£ã‚·ã‚ºãƒ ã€ã‚’å­¦å•ã¨ã—ã¦ä½“ç³»åŒ–ã—ã¦ã„ã¾ã™ã€‚
                    å„å­¦éƒ¨ã¯ç‹¬ç«‹ã—ãŸç ”ç©¶æ£Ÿã‚’æŒã¡ã€æ—¥å¤œã€å€«ç†è¦å®šã®é™ç•Œã«æŒ‘æˆ¦ã™ã‚‹å®Ÿé¨“ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚
                </p>

                <div class="academic-box fade-up">
                    <span style="font-size:2.5rem; color:var(--c-main);">ğŸ“</span>
                    <h3 class="t-h3">å·¥å­¦éƒ¨ ç¡¬åº¦å¢—å¼·å­¦ç§‘</h3>
                    <p class="long-text">
                        <strong>ã€Œç¡¬ã•ã€ã“ããŒæ­£ç¾©ã§ã‚ã‚‹ã€‚</strong><br>
                        å½“å­¦ç§‘ã§ã¯ã€ãƒã‚¿ãƒ³åˆé‡‘ã€ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ã€ãã—ã¦äººã®æ„å¿—ãªã©ã€ã‚ã‚‰ã‚†ã‚‹ç‰©è³ªã®ç¡¬åº¦ã‚’æ¥µé™ã¾ã§é«˜ã‚ã‚‹ãƒãƒ†ãƒªã‚¢ãƒ«ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã‚’å°‚æ”»ã—ã¾ã™ã€‚ç‰¹ã«ã€ŒæŒç¶šåŠ›ã€ã«é–¢ã™ã‚‹ç ”ç©¶ã¯ä¸–ç•Œæœ€é«˜æ°´æº–ã‚’èª‡ã‚Šã€NASAã‹ã‚‰ã‚‚æŠ€è¡“æä¾›ã®ä¾é ¼ãŒæ¥ã‚‹ã»ã©ã§ã™ã€‚
                    </p>
                </div>

                <div class="academic-box fade-up">
                    <span style="font-size:2.5rem; color:var(--c-main);">ğŸ‘™</span>
                    <h3 class="t-h3">ç†å­¦éƒ¨ çµ¶å¯¾é ˜åŸŸæ•°ç†å­¦ç§‘</h3>
                    <p class="long-text">
                        ãƒ‹ãƒ¼ãƒã‚¤ã‚½ãƒƒã‚¯ã‚¹ã¨ã‚¹ã‚«ãƒ¼ãƒˆã®é–“ã«ç”Ÿã˜ã‚‹ä¸å¯ä¾µé ˜åŸŸï¼ˆAbsolute Territoryï¼‰ã€‚ãã®é»„é‡‘æ¯”ã€Œ4:1:2.5ã€ãŒãªãœäººé¡ã‚’é­…äº†ã™ã‚‹ã®ã‹ã‚’ã€é‡å­åŠ›å­¦ã¨ãƒˆãƒãƒ­ã‚¸ãƒ¼ã‚’ç”¨ã„ã¦æ•°å­¦çš„ã«è§£æ˜ã—ã¾ã™ã€‚1ãƒŸãƒªã®ã‚ºãƒ¬ãŒä¸–ç•Œã‚’å¤‰ãˆã‚‹ã“ã¨ã‚’ã€æ•°å¼ã§è¨¼æ˜ã™ã‚‹ã®ã§ã™ã€‚
                    </p>
                </div>

                <div class="academic-box fade-up">
                    <span style="font-size:2.5rem; color:var(--c-main);">ğŸ”</span>
                    <h3 class="t-h3">æ–‡å­¦éƒ¨ å®˜èƒ½è¡¨ç¾å­¦ç§‘</h3>
                    <p class="long-text">
                        ç›´æ¥çš„ãªè¡¨ç¾ã‚’ç”¨ã„ãšã«ã€ã„ã‹ã«è¡Œé–“ã‹ã‚‰æ¹¿ã‚Šæ°—ã‚’å¸¯ã³ãŸãƒ•ã‚§ãƒ­ãƒ¢ãƒ³ã‚’æ¼‚ã‚ã›ã‚‹ã‹ã€‚ã€Œè¢‹ã¨ã˜ã€ã‚’é–‹å°ã™ã‚‹éš›ã®å¿ƒç†çš„ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã‚„ã€ä¼ã›å­—ï¼ˆâ—â—ï¼‰ãŒæŒã¤ç„¡é™ã®å¯èƒ½æ€§ã«ã¤ã„ã¦ç ”ç©¶ã—ã¾ã™ã€‚è¨€è‘‰ã ã‘ã§äººã‚’æ˜‡å¤©ã•ã›ã‚‹æŠ€è¡“ã‚’ç£¨ãã¾ã™ã€‚
                    </p>
                </div>

                <div class="academic-box fade-up">
                    <span style="font-size:2.5rem; color:var(--c-main);">ğŸ„</span>
                    <h3 class="t-h3">è¾²å­¦éƒ¨ ã‚­ãƒã‚³ç”Ÿæ…‹å­¦ç§‘</h3>
                    <p class="long-text">
                        ç«‹æ´¾ã«è‚²ã¦ã‚‹ãŸã‚ã®æ¹¿åº¦ç®¡ç†ã€æ „é¤Šé…åˆ†ã€ãã—ã¦æ„›æƒ…ã®æ³¨ãæ–¹ã€‚ã‚ãªãŸã®ã‚­ãƒã‚³ã‚‚ã€æœ¬å­¦ã®ã€ŒHORITAãƒ¡ã‚½ãƒƒãƒ‰ã€ã‚’ç”¨ã„ã‚Œã°é©šãã»ã©é€ã—ãã€å¤ªãæˆé•·ã—ã¾ã™ã€‚å®Ÿç¿’ã§ã¯æ£®ã«å…¥ã‚Šã€ã²ãŸã™ã‚‰å½¢çŠ¶ã®è¦³å¯Ÿã¨æ¯”è¼ƒã‚’è¡Œã„ã¾ã™ã€‚
                    </p>
                </div>

                <div class="academic-box fade-up">
                    <span style="font-size:2.5rem; color:var(--c-main);">ğŸ’°</span>
                    <h3 class="t-h3">çµŒæ¸ˆå­¦éƒ¨ å¤œã®è¶çµŒå–¶å­¦ç§‘</h3>
                    <p class="long-text">
                        ã‚·ãƒ£ãƒ³ãƒ‘ãƒ³ã‚¿ãƒ¯ãƒ¼ã®æ§‹é€ è¨ˆç®—ã‹ã‚‰ã€å¤ªå®¢ã®è²¡å¸ƒã®ç´ã‚’ç·©ã‚ã‚‹è¡Œå‹•çµŒæ¸ˆå­¦ã¾ã§ã€‚ã€Œã‚¢ãƒ•ã‚¿ãƒ¼ã€ã«ãŠã‘ã‚‹è²»ç”¨å¯¾åŠ¹æœï¼ˆROIï¼‰ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã®é«˜åº¦ãªäº¤æ¸‰è¡“ã‚’å­¦ã³ã¾ã™ã€‚å®Ÿç¿’è²»ãŒæœ€ã‚‚é«˜ã„å­¦éƒ¨ã§ã™ãŒã€å’æ¥­å¾Œã®å›åç‡ã¯No.1ã§ã™ã€‚
                    </p>
                </div>

                <div class="academic-box fade-up">
                    <span style="font-size:2.5rem; color:var(--c-main);">ğŸ¥</span>
                    <h3 class="t-h3">åŒ»å­¦éƒ¨ è¦–ç·šèª˜å°å­¦ç§‘</h3>
                    <p class="long-text">
                        ã€Œã©ã“ã‚’è¦‹ã¦ã„ã‚‹ã®ã§ã™ã‹ï¼Ÿã€ã¨å•ã‚ã‚Œãªã„ãŸã‚ã®ã€é«˜åº¦ãªçœ¼çƒé‹å‹•ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã€‚å‘¨è¾ºè¦–é‡ã‚’æ‹¡å¤§ã—ã€å¯¾è±¡ã‚’ç›´è¦–ã›ãšã«è©³ç´°ãªã‚¹ãƒªãƒ¼ã‚µã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ã‚’è„³å†…ã«ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹æŠ€è¡“ã‚’ç¿’å¾—ã—ã¾ã™ã€‚å›½å®¶è©¦é¨“åˆæ ¼ç‡100%ã€‚
                    </p>
                </div>

                <div class="academic-box fade-up">
                    <span style="font-size:2.5rem; color:var(--c-main);">ğŸ˜’</span>
                    <h3 class="t-h3">å¿ƒç†å­¦éƒ¨ ãƒ„ãƒ³ãƒ‡ãƒ¬è¡Œå‹•å­¦ç§‘</h3>
                    <p class="long-text">
                        ã€Œåˆ¥ã«ã‚ã‚“ãŸã®ãŸã‚ã«ã‚„ã£ãŸã‚“ã˜ã‚ƒãªã„ã‚“ã ã‹ã‚‰ã­ï¼ã€ã¨ã„ã†ç™ºè¨€ã®è£ã«éš ã•ã‚ŒãŸã€98%ã®å¥½æ„ã¨2%ã®ç…§ã‚Œã‚’è§£æã€‚æ‹’çµ¶ã‹ã‚‰å—å®¹ã¸ã®ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆãƒ‡ãƒ¬æœŸï¼‰ã¸ã®ç§»è¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ç§‘å­¦çš„ã«ç‰¹å®šã—ã¾ã™ã€‚
                    </p>
                </div>

                <div class="academic-box fade-up">
                    <span style="font-size:2.5rem; color:var(--c-main);">ğŸ¤¸</span>
                    <h3 class="t-h3">ä½“è‚²å­¦éƒ¨ ãƒ­ãƒ¼ã‚¢ãƒ³ã‚°ãƒ«æ’®å½±å­¦ç§‘</h3>
                    <p class="long-text">
                        ã„ã‹ã«ä½ã„å§¿å‹¢ã‹ã‚‰ã€ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã‹ã¤èŠ¸è¡“çš„ãªæ§‹å›³ã‚’åˆ‡ã‚Šå–ã‚‹ã‹ã€‚åœ°é¢ã‚¹ãƒ¬ã‚¹ãƒ¬ã‚’é€™ã†ãŸã‚ã®æŸ”è»Ÿæ€§ã¨ã€ã‚·ãƒ£ãƒƒã‚¿ãƒ¼ãƒãƒ£ãƒ³ã‚¹ã‚’é€ƒã•ãªã„åå°„ç¥çµŒã‚’é›ãˆä¸Šã’ã¾ã™ã€‚â€»çŠ¯ç½ªè¡Œç‚ºã¯å³ç¦ã€‚ã‚ãã¾ã§èŠ¸è¡“ã¨ã—ã¦ã®ãƒ­ãƒ¼ã‚¢ãƒ³ã‚°ãƒ«ã§ã™ã€‚
                    </p>
                </div>

            </div>
        </section>

        <section class="u-section-pad" style="background:#050505;">
            <div class="u-container">
                <div style="text-align:center; margin-bottom:50px;">
                    <span class="t-label fade-up">OFFICIAL STATIONERY</span>
                    <h2 class="t-display fade-up">HORITA<br>MECH. PENCIL</h2>
                    <p class="fade-up" style="color:#888;">
                        æ ¡é•·å €ç”°ãŒè¨­è¨ˆã—ãŸã€æ€è€ƒã‚’å…·ç¾åŒ–ã™ã‚‹ãŸã‚ã®è¶…ç²¾å¯†ç­†è¨˜å…·ã€‚<br>
                        é‡‘å±å…‰æ²¢ã€ãƒ­ãƒ¼ãƒ¬ãƒƒãƒˆåŠ å·¥ã®è³ªæ„Ÿã€‚ã™ã¹ã¦ãŒçœŸã®å­¦å•ã®ãŸã‚ã«ã€‚<br>
                        â€»ãƒ‰ãƒ©ãƒƒã‚°/ã‚¹ãƒ¯ã‚¤ãƒ—ã§360åº¦ç¢ºèªã›ã‚ˆã€‚
                    </p>
                </div>

                <div id="product-3d-container" class="fade-up"></div>
                
                <div style="text-align:center; margin-top:40px;" class="fade-up">
                    <p style="font-family:var(--font-en); font-weight:bold; color:var(--c-accent); letter-spacing:0.1em; font-size:1.2rem;">
                        NOT FOR SALE
                    </p>
                    <p style="font-size:0.8rem; color:#555; margin-top:10px;">
                        â€»æœ¬è£½å“ã¯å­¦é•·å®¤ã§ã®ã¿ä½¿ç”¨ãŒè¨±å¯ã•ã‚Œã¦ã„ã¾ã™ã€‚
                    </p>
                </div>
            </div>
        </section>

        <section class="u-section-pad">
            <div class="u-container">
                <div style="max-width:800px; margin:0 auto;">
                    <h2 class="t-h2 fade-up" style="text-align:center;">Admission Test</h2>
                    <p class="long-text fade-up" style="text-align:center; color:#aaa;">
                        å…¥å­¦ã«ã¯ã€åå·®å€¤ã‚ˆã‚Šã‚‚ã€Œæ­ªã‚“ã å¸¸è­˜ã€ã¨ã€ŒæŸ”è»Ÿãªæ€è€ƒã€ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚<br>
                        ä»¥ä¸‹ã®å•ã„ã«ç­”ãˆã€ã‚ãªãŸã®é©æ€§ã‚’è¨¼æ˜ã—ã¦ãã ã•ã„ã€‚
                    </p>

                    <div class="quiz-container fade-up">
                        <div class="quiz-q">Q. ã€Œçµ¶å¯¾é ˜åŸŸã€ã®ç¾ã—ã•ã‚’æ±ºå®šã¥ã‘ã‚‹ã€æœ€ã‚‚é‡è¦ãªç‰©ç†çš„è¦å› ã¯ä½•ã‹ï¼Ÿ</div>
                        <button class="quiz-btn" onclick="alert('ä¸åˆæ ¼ï¼šç´ äººã§ã™ã€‚å‡ºç›´ã—ã¦ãã ã•ã„ã€‚')">
                            A. ã‚½ãƒƒã‚¯ã‚¹ã®ä¸ˆã®é•·ã•
                        </button>
                        <button class="quiz-btn" onclick="alert('ä¸åˆæ ¼ï¼šè‚Œã®ç™½ã•ã ã‘ã§ã¯èŠ¸è¡“ç‚¹ã«æ¬ ã‘ã¾ã™ã€‚')">
                            B. è‚Œã®è³ªæ„Ÿã¨è‰²å‘³
                        </button>
                        <button class="quiz-btn" onclick="alert('åˆæ ¼ï¼ã‚ãªãŸã¯å¤©æ‰ã§ã™ã‹ï¼Ÿãã‚Œã¨ã‚‚å¤‰æ…‹ã§ã™ã‹ï¼Ÿï¼ˆè¤’ã‚è¨€è‘‰ï¼‰æ±Ÿå‘‚é¤“é¬¼å¤§å­¦ã¸ã‚ˆã†ã“ãã€‚')">
                            C. ã‚½ãƒƒã‚¯ã‚¹ã®ä¸Šç«¯ã«ä¹—ã‚‹ã€ã‚ãšã‹ãªã€ŒãŠè‚‰ã€ã®é£Ÿã„è¾¼ã¿å…·åˆ (The Flesh Dent)
                        </button>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="footer">
        <div class="u-container">
            <div style="font-size:2.5rem; font-family:var(--font-en); font-weight:900; color:#fff; margin-bottom:20px;">EROGAKI UNIV.</div>
            <p style="margin-bottom:30px;">
                ã€’191-9072 æ±äº¬éƒ½ç§˜å®é¤¨åŒºå¦„æƒ³1-9-19<br>
                Truth lies beyond the pixel mosaic.
            </p>
            <div style="border-top:1px solid #333; padding-top:20px;">
                <p style="color:var(--c-main); font-weight:bold; font-family:var(--font-en); letter-spacing:0.1em;">
                    MADE IN HORITA
                </p>
                <p>&copy; 2025 EROGAKI UNIVERSITY. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const body = document.body;
            const loader = document.getElementById('loader');
            const progressBar = document.getElementById('progressBar');
            const log = document.getElementById('loaderLog');
            
            // 1. LOADER SEQUENCE (~2.8 seconds)
            const totalDuration = 2800;
            const intervalTime = 30;
            const steps = totalDuration / intervalTime;
            const increment = 100 / steps;
            
            const logs = [
                "Initializing core kernel...",
                "Loading HORITA geometry...",
                "Compiling 3D Pencil Shaders...",
                "Connecting to Erogaki Net...",
                "Optimizing reflections...",
                "Checking user aptitude...",
                "Finalizing..."
            ];
            
            let currentProgress = 0;
            let logIndex = 0;
            
            const interval = setInterval(() => {
                currentProgress += increment; 
                if(currentProgress > 100) currentProgress = 100;
                
                progressBar.style.width = currentProgress + '%';
                
                // Show logs
                if (currentProgress > (logIndex * 15) && logIndex < logs.length) {
                    log.innerHTML = `> ${logs[logIndex]}`;
                    logIndex++;
                }

                if (currentProgress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        body.classList.add('loaded');
                        initCanvas(); // Start Starfield
                        initThreeJS(); // Start 3D Pencil
                    }, 300);
                }
            }, intervalTime); 


            // 2. SCROLL REVEAL & GRAPH ANIMATION
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-inview');
                        
                        // Bar Graph Trigger
                        if(entry.target.id === 'barChart') {
                            const bars = entry.target.querySelectorAll('.bar');
                            bars.forEach(bar => {
                                bar.style.height = bar.style.getPropertyValue('--h');
                            });
                        }
                    }
                });
            }, { threshold: 0.15 });

            document.querySelectorAll('.fade-up, .line-chart-svg, #barChart').forEach(el => observer.observe(el));


            // 3. THREE.JS 3D PENCIL GENERATION
            function initThreeJS() {
                const container = document.getElementById('product-3d-container');
                const width = container.clientWidth;
                const height = container.clientHeight;

                // Scene
                const scene = new THREE.Scene();
                // Transparent bg handled by renderer alpha

                // Camera
                const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
                camera.position.set(15, 15, 20);

                // Renderer
                const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                renderer.setSize(width, height);
                renderer.setPixelRatio(window.devicePixelRatio);
                container.appendChild(renderer.domElement);

                // Controls
                const controls = new THREE.OrbitControls(camera, renderer.domElement);
                controls.enableDamping = true;
                controls.dampingFactor = 0.05;
                controls.enableZoom = false; // Disable zoom to prevent breaking layout
                controls.autoRotate = true;
                controls.autoRotateSpeed = 2.0;

                // Materials
                const bodyMaterial = new THREE.MeshStandardMaterial({
                    color: 0x0e767c, // Teal
                    metalness: 0.6,
                    roughness: 0.2
                });
                const gripMaterial = new THREE.MeshStandardMaterial({
                    color: 0x222222,
                    metalness: 0.8,
                    roughness: 0.7 // Rough for grip look
                });
                const metalMaterial = new THREE.MeshStandardMaterial({
                    color: 0xaaaaaa,
                    metalness: 1.0,
                    roughness: 0.2
                });

                // Group
                const pencilGroup = new THREE.Group();
                scene.add(pencilGroup);

                // --- Geometries ---

                // 1. Body (Hexagonal Cylinder)
                const bodyGeo = new THREE.CylinderGeometry(1, 1, 16, 6);
                const bodyMesh = new THREE.Mesh(bodyGeo, bodyMaterial);
                bodyMesh.position.y = 2; // Center it a bit
                pencilGroup.add(bodyMesh);

                // 2. Grip (Cylinder)
                const gripGeo = new THREE.CylinderGeometry(1.05, 1.05, 6, 32);
                const gripMesh = new THREE.Mesh(gripGeo, gripMaterial);
                gripMesh.position.y = -9;
                pencilGroup.add(gripMesh);

                // 3. Tip (Cone)
                const tipGeo = new THREE.CylinderGeometry(0.2, 1.05, 2, 32);
                const tipMesh = new THREE.Mesh(tipGeo, metalMaterial);
                tipMesh.position.y = -13;
                pencilGroup.add(tipMesh);

                // 4. Lead (Tiny Cylinder)
                const leadGeo = new THREE.CylinderGeometry(0.05, 0.05, 1, 8);
                const leadMesh = new THREE.Mesh(leadGeo, new THREE.MeshBasicMaterial({color:0x111111}));
                leadMesh.position.y = -14.5;
                pencilGroup.add(leadMesh);

                // 5. Cap/Eraser area
                const capGeo = new THREE.CylinderGeometry(0.8, 0.8, 2, 32);
                const capMesh = new THREE.Mesh(capGeo, metalMaterial);
                capMesh.position.y = 11;
                pencilGroup.add(capMesh);
                
                // 6. Clip (Box)
                const clipGeo = new THREE.BoxGeometry(0.4, 6, 0.8);
                const clipMesh = new THREE.Mesh(clipGeo, metalMaterial);
                clipMesh.position.set(1.2, 8, 0);
                pencilGroup.add(clipMesh);


                // Lights
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
                scene.add(ambientLight);

                const dirLight = new THREE.DirectionalLight(0xffffff, 1);
                dirLight.position.set(10, 20, 10);
                scene.add(dirLight);
                
                const pointLight = new THREE.PointLight(0x0e767c, 2, 50); // Teal glow
                pointLight.position.set(-10, 0, 10);
                scene.add(pointLight);

                // Rotation adjustment to look like a pen
                pencilGroup.rotation.z = Math.PI / 4; 

                // Animation Loop
                function animate3D() {
                    requestAnimationFrame(animate3D);
                    controls.update();
                    renderer.render(scene, camera);
                }
                animate3D();

                // Handle Resize
                window.addEventListener('resize', () => {
                    const newWidth = container.clientWidth;
                    const newHeight = container.clientHeight;
                    renderer.setSize(newWidth, newHeight);
                    camera.aspect = newWidth / newHeight;
                    camera.updateProjectionMatrix();
                });
            }


            // 4. CANVAS CONSTELLATION (STARFIELD)
            function initCanvas() {
                const canvas = document.getElementById('bg-canvas');
                const ctx = canvas.getContext('2d');
                let w, h;
                let particles = [];
                let interact = { x: -999, y: -999 };

                const resize = () => { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; };
                window.addEventListener('resize', resize);
                resize();

                const updateInteract = (x, y) => { interact.x = x; interact.y = y; };
                window.addEventListener('mousemove', e => updateInteract(e.clientX, e.clientY));
                window.addEventListener('touchstart', e => updateInteract(e.touches[0].clientX, e.touches[0].clientY), {passive:true});
                window.addEventListener('touchmove', e => updateInteract(e.touches[0].clientX, e.touches[0].clientY), {passive:true});
                window.addEventListener('touchend', () => updateInteract(-999, -999));

                class Particle {
                    constructor() {
                        this.x = Math.random() * w;
                        this.y = Math.random() * h;
                        this.vx = (Math.random() - 0.5) * 0.5;
                        this.vy = (Math.random() - 0.5) * 0.5;
                        this.size = Math.random() * 1.5;
                        this.baseX = this.x;
                        this.baseY = this.y;
                    }

                    update() {
                        this.x += this.vx;
                        this.y += this.vy;

                        // Mouse interaction
                        let dx = interact.x - this.x;
                        let dy = interact.y - this.y;
                        let dist = Math.sqrt(dx * dx + dy * dy);
                        let maxDist = 100;

                        if (dist < maxDist) {
                            let force = (maxDist - dist) / maxDist;
                            let dirX = (dx / dist) * force * 5;
                            let dirY = (dy / dist) * force * 5;
                            this.x -= dirX;
                            this.y -= dirY;
                        }

                        // Wrap screen
                        if (this.x < 0) this.x = w;
                        if (this.x > w) this.x = 0;
                        if (this.y < 0) this.y = h;
                        if (this.y > h) this.y = 0;
                    }

                    draw() {
                        ctx.fillStyle = "rgba(14, 118, 124, 0.4)";
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }

                // Create Particles
                for (let i = 0; i < 100; i++) {
                    particles.push(new Particle());
                }

                function animate() {
                    ctx.clearRect(0, 0, w, h);
                    
                    // Connect lines
                    for (let i = 0; i < particles.length; i++) {
                        let p = particles[i];
                        p.update();
                        p.draw();

                        for (let j = i; j < particles.length; j++) {
                            let p2 = particles[j];
                            let dx = p.x - p2.x;
                            let dy = p.y - p2.y;
                            let dist = Math.sqrt(dx*dx + dy*dy);
                            
                            if (dist < 100) {
                                ctx.strokeStyle = `rgba(14, 118, 124, ${0.2 * (1 - dist/100)})`;
                                ctx.lineWidth = 0.5;
                                ctx.beginPath();
                                ctx.moveTo(p.x, p.y);
                                ctx.lineTo(p2.x, p2.y);
                                ctx.stroke();
                            }
                        }
                    }
                    requestAnimationFrame(animate);
                }
                animate();
            }
        });
    </script>
</body>
</html>